{"remainingRequest":"D:\\Idea项目\\Student\\student_client\\node_modules\\babel-loader\\lib\\index.js!D:\\Idea项目\\Student\\student_client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Idea项目\\Student\\student_client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Idea项目\\Student\\student_client\\src\\register.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Idea项目\\Student\\student_client\\src\\register.vue","mtime":1685808909904},{"path":"D:\\Idea项目\\Student\\student_client\\babel.config.js","mtime":1644576637000},{"path":"D:\\Idea项目\\Student\\student_client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685794117013},{"path":"D:\\Idea项目\\Student\\student_client\\node_modules\\babel-loader\\lib\\index.js","mtime":1685794121019},{"path":"D:\\Idea项目\\Student\\student_client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685794117013},{"path":"D:\\Idea项目\\Student\\student_client\\node_modules\\vue-loader\\lib\\index.js","mtime":1685794120760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcmVmIH0gZnJvbSAndnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlci9pbmRleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgdXNlcm5hbWUgPSByZWYoJycpOwogICAgdmFyIHBhc3N3b3JkID0gcmVmKCcnKTsKICAgIHZhciBzZW5kdG8gPSByZWYoJycpOwogICAgdmFyIGFjY2Vzc2NvZGUgPSByZWYoJycpOwoKICAgIHZhciByZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICBheGlvcy5wb3N0KHsKICAgICAgICB4aHJGaWVsZHM6IHsKICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgY3Jvc3NEb21haW46IHRydWUsCiAgICAgICAgdXJsOiAiaHR0cDovLzEyNy4wLjAuMTozMDAwL3VzZXIvcmVnaXN0ZXIvIiwKICAgICAgICB0eXBlOiAicG9zdCIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLnZhbHVlLAogICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLnZhbHVlLAogICAgICAgICAgZW1haWw6IHNlbmR0by52YWx1ZSwKICAgICAgICAgIGFjY2Vzc2NvZGU6IGFjY2Vzc2NvZGUudmFsdWUKICAgICAgICB9LAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7CiAgICAgICAgICBhbGVydChyZXNwLmVycm9yX21zZyk7CgogICAgICAgICAgaWYgKHJlc3AuZXJyb3JfbXNnID09PSAi5rOo5YaM5oiQ5YqfIikgewogICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogJ2xvZ2ludmlldycKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IocmVzcCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7CiAgICAgICAgICBhbGVydChyZXNwLmVycm9yX21zZyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CgogICAgZnVuY3Rpb24gY291bnRkb3duKHZhbCwgdGltZSwgY250KSB7CiAgICAgIGlmICh0aW1lID09PSAwKSB7CiAgICAgICAgdmFsLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgdmFsLmlubmVySFRNTCA9ICJnZXQgY29kZSI7CiAgICAgICAgY2xlYXJJbnRlcnZhbChjbnQpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhbC5pbm5lckhUTUwgPSAncmVzZW5kIGNvZGUoJyArIHRpbWUgKyAnKSc7CiAgICAgICAgdGltZS0tOwogICAgICB9CgogICAgICByZXR1cm4gdGltZTsKICAgIH0KCiAgICB2YXIgZ2V0Y29kZSA9IGZ1bmN0aW9uIGdldGNvZGUoKSB7CiAgICAgIHZhciB0aW1lID0gNjA7CiAgICAgIHZhciBvYmplY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29kZScpOwogICAgICBvYmplY3QuZGlzYWJsZWQgPSB0cnVlOwogICAgICBjb3VudGRvd24ob2JqZWN0LCB0aW1lKTsKICAgICAgdmFyIGNudCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lID0gY291bnRkb3duKG9iamVjdCwgdGltZSwgY250KTsKICAgICAgfSwgMTAwMCk7CiAgICAgICQuYWpheCh7CiAgICAgICAgeGhyRmllbGRzOiB7CiAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgICB9LAogICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLAogICAgICAgIHVybDogImh0dHA6Ly8xMjcuMC4wLjE6MzAwMC9nZXRjb2RlLyIsCiAgICAgICAgdHlwZTogInBvc3QiLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHNlbmR0bzogc2VuZHRvLnZhbHVlCiAgICAgICAgfSwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3ApIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3ApOwogICAgICAgIH0sCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHJlc3ApIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3ApOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICByZWdpc3RlcjogcmVnaXN0ZXIsCiAgICAgIGdldGNvZGU6IGdldGNvZGUsCiAgICAgIHNlbmR0bzogc2VuZHRvLAogICAgICBhY2Nlc3Njb2RlOiBhY2Nlc3Njb2RlCiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AAEA;AACAA,OADA,mBACA;AACA;AACA;AACA;AACA;;AAEA;AACAC;AACAC;AACAC;AADA,SADA;AAIAC,yBAJA;AAKAC,mDALA;AAMAC,oBANA;AAOAC;AACAC,kCADA;AAEAC,kCAFA;AAGAC,6BAHA;AAIAC;AAJA,SAPA;AAaAC,eAbA,mBAaAC,IAbA,EAaA;AACAC;AACAC;;AACA;AACAC;AAAAC;AAAA;AACA;AACA,SAnBA;AAoBAC,aApBA,iBAoBAL,IApBA,EAoBA;AACAC;AACAC;AACA;AAvBA;AAyBA,KA1BA;;AA4BA;AACA;AACAI;AACAA;AACAC;AACA,OAJA,MAIA;AACAD;AACAE;AACA;;AACA;AACA;;AAGA;AACA;AACA;AACAC;AACAC;AACA;AACAF;AACA,OAFA,EAEA,IAFA;AAKAG;AACAtB;AACAC;AADA,SADA;AAIAC,yBAJA;AAKAC,6CALA;AAMAC,oBANA;AAOAC;AACAkB;AADA,SAPA;AAUAb,eAVA,mBAUAC,IAVA,EAUA;AACAC;AACA,SAZA;AAaAI,aAbA,iBAaAL,IAbA,EAaA;AACAC;AACA;AAfA;AAkBA,KA5BA;;AA8BA;AACAN,wBADA;AAEAC,wBAFA;AAGAiB,wBAHA;AAIAC,sBAJA;AAKAF,oBALA;AAMAd;AANA;AAQA;AAtFA","names":["setup","axios","xhrFields","withCredentials","crossDomain","url","type","data","username","password","email","accesscode","success","resp","console","alert","router","name","error","val","clearInterval","time","object","countdown","$","sendto","register","getcode"],"sourceRoot":"src","sources":["register.vue"],"sourcesContent":["<template>\r\n    <div class=\"login-box\">\r\n        <h2>Register</h2>\r\n        <form @submit.prevent=\"register\">\r\n            <div class=\"user-box\">\r\n                <input v-model=\"username\" type=\"text\" name=\"\" required=\"true\">\r\n                <label>Username</label>\r\n            </div>\r\n            <div class=\"user-box\">\r\n                <input v-model=\"password\" type=\"password\" name=\"\" required=\"true\">\r\n                <label>Password</label>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-8\">\r\n                    <div class=\"user-box\">\r\n                        <input v-model=\"sendto\" type=\"text\" name=\"\" required=\"true\">\r\n                        <label>Email</label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm-4\">\r\n                    <div class=\"user-box\">\r\n                        <button id=\"code\" class=\"btn btn-outline-secondary\" type=\"button\" @click=\"getcode()\">get\r\n                            code</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"user-box\">\r\n                <input v-model=\"accesscode\" type=\"text\" name=\"\" required=\"true\">\r\n                <label>Access code</label>\r\n            </div>\r\n\r\n            <a href=\"#\" @click=\"register()\">\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                Submit\r\n            </a>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport axios from 'axios'\r\nimport router from './router/index';\r\n\r\nexport default {\r\n    setup() {\r\n        let username = ref('');\r\n        let password = ref('');\r\n        let sendto = ref('');\r\n        let accesscode = ref('');\r\n\r\n        const register = () => {\r\n            axios.post({\r\n                xhrFields: {\r\n                    withCredentials: true,\r\n                },\r\n                crossDomain: true,\r\n                url: \"http://127.0.0.1:3000/user/register/\",\r\n                type: \"post\",\r\n                data: {\r\n                    username: username.value,\r\n                    password: password.value,\r\n                    email: sendto.value,\r\n                    accesscode: accesscode.value,\r\n                },\r\n                success(resp) {\r\n                    console.log(resp);\r\n                    alert(resp.error_msg);\r\n                    if (resp.error_msg === \"注册成功\") {\r\n                        router.push({ name: 'loginview' });\r\n                    }\r\n                },\r\n                error(resp) {\r\n                    console.log(resp);\r\n                    alert(resp.error_msg);\r\n                }\r\n            })\r\n        }\r\n\r\n        function countdown(val, time, cnt) {\r\n            if (time === 0) {\r\n                val.disabled = false;\r\n                val.innerHTML = \"get code\";\r\n                clearInterval(cnt);\r\n            } else {\r\n                val.innerHTML = 'resend code(' + time + ')';\r\n                time--;\r\n            }\r\n            return time;\r\n        }\r\n\r\n\r\n        const getcode = () => {\r\n            let time = 60;\r\n            let object = document.getElementById('code');\r\n            object.disabled = true;\r\n            countdown(object, time);\r\n            let cnt = setInterval(function () {\r\n                time = countdown(object, time, cnt);\r\n            }, 1000);\r\n\r\n\r\n            $.ajax({\r\n                xhrFields: {\r\n                    withCredentials: true\r\n                },\r\n                crossDomain: true,\r\n                url: \"http://127.0.0.1:3000/getcode/\",\r\n                type: \"post\",\r\n                data: {\r\n                    sendto: sendto.value,\r\n                },\r\n                success(resp) {\r\n                    console.log(resp);\r\n                },\r\n                error(resp) {\r\n                    console.log(resp);\r\n                }\r\n\r\n            })\r\n        }\r\n\r\n        return {\r\n            username,\r\n            password,\r\n            register,\r\n            getcode,\r\n            sendto,\r\n            accesscode,\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\nhtml {\r\n    height: 100%;\r\n}\r\n\r\nbody {\r\n    margin: 0;\r\n    padding: 0;\r\n    font-family: sans-serif;\r\n    background: linear-gradient(#141e30, #243b55);\r\n    /* background: linear-gradient(#fff); */\r\n}\r\n\r\n.login-box {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    width: 400px;\r\n    padding: 40px;\r\n    transform: translate(-50%, -50%);\r\n    background: rgba(0, 0, 0, .7);\r\n    box-sizing: border-box;\r\n    box-shadow: 0 15px 25px rgba(0, 0, 0, .6);\r\n    border-radius: 10px;\r\n}\r\n\r\n.login-box h2 {\r\n    margin: 0 0 30px;\r\n    padding: 0;\r\n    color: #fff;\r\n    text-align: center;\r\n}\r\n\r\n.login-box .user-box {\r\n    position: relative;\r\n}\r\n\r\n.login-box .user-box input {\r\n    width: 100%;\r\n    padding: 10px 0;\r\n    font-size: 16px;\r\n    color: #fff;\r\n    margin-bottom: 30px;\r\n    border: none;\r\n    border-bottom: 1px solid #fff;\r\n    outline: none;\r\n    background: transparent;\r\n}\r\n\r\n.login-box .user-box label {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    padding: 10px 0;\r\n    font-size: 16px;\r\n    color: #fff;\r\n    pointer-events: none;\r\n    transition: .5s;\r\n}\r\n\r\n.login-box .user-box input:focus~label,\r\n.login-box .user-box input:valid~label {\r\n    top: -20px;\r\n    left: 0;\r\n    color: #03e9f4;\r\n    font-size: 12px;\r\n}\r\n\r\n.login-box form a {\r\n    position: relative;\r\n    display: inline-block;\r\n    padding: 10px 20px;\r\n    color: #03e9f4;\r\n    font-size: 16px;\r\n    text-decoration: none;\r\n    text-transform: uppercase;\r\n    overflow: hidden;\r\n    transition: .5s;\r\n    margin-top: 40px;\r\n    letter-spacing: 4px\r\n}\r\n\r\n.login-box a:hover {\r\n    background: #03e9f4;\r\n    color: #fff;\r\n    border-radius: 5px;\r\n    box-shadow: 0 0 5px #03e9f4,\r\n        0 0 25px #03e9f4,\r\n        0 0 50px #03e9f4,\r\n        0 0 100px #03e9f4;\r\n}\r\n\r\n.login-box a span {\r\n    position: absolute;\r\n    display: block;\r\n}\r\n\r\n.login-box a span:nth-child(1) {\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 2px;\r\n    background: linear-gradient(90deg, transparent, #03e9f4);\r\n    animation: btn-anim1 1s linear infinite;\r\n}\r\n\r\n@keyframes btn-anim1 {\r\n    0% {\r\n        left: -100%;\r\n    }\r\n\r\n    50%,\r\n    100% {\r\n        left: 100%;\r\n    }\r\n}\r\n\r\n.login-box a span:nth-child(2) {\r\n    top: -100%;\r\n    right: 0;\r\n    width: 2px;\r\n    height: 100%;\r\n    background: linear-gradient(180deg, transparent, #03e9f4);\r\n    animation: btn-anim2 1s linear infinite;\r\n    animation-delay: .25s\r\n}\r\n\r\n@keyframes btn-anim2 {\r\n    0% {\r\n        top: -100%;\r\n    }\r\n\r\n    50%,\r\n    100% {\r\n        top: 100%;\r\n    }\r\n}\r\n\r\n.login-box a span:nth-child(3) {\r\n    bottom: 0;\r\n    right: -100%;\r\n    width: 100%;\r\n    height: 2px;\r\n    background: linear-gradient(270deg, transparent, #03e9f4);\r\n    animation: btn-anim3 1s linear infinite;\r\n    animation-delay: .5s\r\n}\r\n\r\n@keyframes btn-anim3 {\r\n    0% {\r\n        right: -100%;\r\n    }\r\n\r\n    50%,\r\n    100% {\r\n        right: 100%;\r\n    }\r\n}\r\n\r\n.login-box a span:nth-child(4) {\r\n    bottom: -100%;\r\n    left: 0;\r\n    width: 2px;\r\n    height: 100%;\r\n    background: linear-gradient(360deg, transparent, #03e9f4);\r\n    animation: btn-anim4 1s linear infinite;\r\n    animation-delay: .75s\r\n}\r\n\r\n@keyframes btn-anim4 {\r\n    0% {\r\n        bottom: -100%;\r\n    }\r\n\r\n    50%,\r\n    100% {\r\n        bottom: 100%;\r\n    }\r\n}\r\n</style>"]}]}