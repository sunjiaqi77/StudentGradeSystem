{"remainingRequest":"D:\\home\\下载\\StudentManageSystem-main\\student_client\\node_modules\\babel-loader\\lib\\index.js!D:\\home\\下载\\StudentManageSystem-main\\student_client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\home\\下载\\StudentManageSystem-main\\student_client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\home\\下载\\StudentManageSystem-main\\student_client\\src\\views\\Teacher\\teacherGradeCourseManage\\teacherGradeCourseList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\home\\下载\\StudentManageSystem-main\\student_client\\src\\views\\Teacher\\teacherGradeCourseManage\\teacherGradeCourseList.vue","mtime":1644576637000},{"path":"D:\\home\\下载\\StudentManageSystem-main\\student_client\\babel.config.js","mtime":1644576637000},{"path":"D:\\home\\下载\\StudentManageSystem-main\\student_client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685794117013},{"path":"D:\\home\\下载\\StudentManageSystem-main\\student_client\\node_modules\\babel-loader\\lib\\index.js","mtime":1685794121019},{"path":"D:\\home\\下载\\StudentManageSystem-main\\student_client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685794117013},{"path":"D:\\home\\下载\\StudentManageSystem-main\\student_client\\node_modules\\vue-loader\\lib\\index.js","mtime":1685794120760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbWV0aG9kczogewogICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3Qocm93KSB7CiAgICAgIGNvbnNvbGUubG9nKHJvdyk7CiAgICB9LAogICAgY2hhbmdlUGFnZTogZnVuY3Rpb24gY2hhbmdlUGFnZShwYWdlKSB7CiAgICAgIHBhZ2UgPSBwYWdlIC0gMTsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgc3RhcnQgPSBwYWdlICogdGhhdC5wYWdlU2l6ZSwKICAgICAgICAgIGVuZCA9IHRoYXQucGFnZVNpemUgKiAocGFnZSArIDEpOwogICAgICB2YXIgbGVuZ3RoID0gdGhhdC50bXBMaXN0Lmxlbmd0aDsKICAgICAgdmFyIGFucyA9IGVuZCA8IGxlbmd0aCA/IGVuZCA6IGxlbmd0aDsKICAgICAgdGhhdC50YWJsZURhdGEgPSB0aGF0LnRtcExpc3Quc2xpY2Uoc3RhcnQsIGFucyk7CiAgICB9LAogICAgZWRpdG9yOiBmdW5jdGlvbiBlZGl0b3Iocm93KSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2VkaXRvckdyYWRlQ291cnNlJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgY2lkOiByb3cuY2lkLAogICAgICAgICAgdGlkOiByb3cudGlkLAogICAgICAgICAgc2lkOiByb3cuc2lkLAogICAgICAgICAgdGVybTogcm93LnRlcm0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogbnVsbCwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogbnVsbCwKICAgICAgdG1wTGlzdDogbnVsbCwKICAgICAgYXZnOiAwCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHJ1bGVGb3JtOiBPYmplY3QKICB9LAogIHdhdGNoOiB7CiAgICBydWxlRm9ybTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1J1bGVGb3JtLCBvbGRSdWxlRm9ybSkgewogICAgICAgIGNvbnNvbGUubG9nKCLnu4Tku7bnm5HlkKwgZm9ybSIpOwogICAgICAgIGNvbnNvbGUubG9nKG5ld1J1bGVGb3JtKTsKICAgICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgICAgdGhhdC50bXBMaXN0ID0gbnVsbDsKICAgICAgICB0aGF0LnRvdGFsID0gbnVsbDsKICAgICAgICB0aGF0LnRhYmxlRGF0YSA9IG51bGw7CiAgICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDoxMDA4Ni9TQ1QvZmluZEJ5U2VhcmNoIiwgbmV3UnVsZUZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCLmn6Xor6Lnu5Pmnpw6Iik7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTsKICAgICAgICAgIHRoYXQudG1wTGlzdCA9IHJlc3AuZGF0YTsKICAgICAgICAgIHRoYXQudG90YWwgPSByZXNwLmRhdGEubGVuZ3RoOwogICAgICAgICAgdmFyIHN0YXJ0ID0gMCwKICAgICAgICAgICAgICBlbmQgPSB0aGF0LnBhZ2VTaXplOwogICAgICAgICAgdmFyIGxlbmd0aCA9IHRoYXQudG1wTGlzdC5sZW5ndGg7CiAgICAgICAgICB2YXIgYW5zID0gZW5kIDwgbGVuZ3RoID8gZW5kIDogbGVuZ3RoOwogICAgICAgICAgdGhhdC50YWJsZURhdGEgPSB0aGF0LnRtcExpc3Quc2xpY2Uoc3RhcnQsIGFucyk7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGF0LnRtcExpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhhdC5hdmcgKz0gdGhhdC50bXBMaXN0W2ldLmdyYWRlOwogICAgICAgICAgfQoKICAgICAgICAgIHRoYXQuYXZnIC89IHRoYXQudG90YWw7CiAgICAgICAgICBjb25zb2xlLmxvZygnYXZnJywgdGhhdC5hdmcpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACAA;AACAC,UADA,kBACAC,GADA,EACA;AACAC;AACA,KAHA;AAIAC,cAJA,sBAIAC,IAJA,EAIA;AACAA;AACA;AACA;AAAA;AACA;AACA;AACAC;AACA,KAXA;AAYAC,UAZA,kBAYAL,GAZA,EAYA;AACA;AACAM,kCADA;AAEAC;AACAC,sBADA;AAEAC,sBAFA;AAGAC,sBAHA;AAIAC;AAJA;AAFA;AASA;AAtBA,GADA;AAyBAC,MAzBA,kBAyBA;AACA;AACAC,qBADA;AAEAC,kBAFA;AAGAC,iBAHA;AAIAC,mBAJA;AAKAC;AALA;AAOA,GAjCA;AAkCAC;AACAC;AADA,GAlCA;AAqCAC;AACAD;AACAE,aADA,mBACAC,WADA,EACAC,WADA,EACA;AACAtB;AACAA;AACA;AACAG;AACAA;AACAA;AACAoB;AACAvB;AACAA;AACAG;AACAA;AACA;AAAA;AACA;AACA;AACAA;;AAEA;AACAA;AACA;;AACAA;AACAH;AACA,SAfA;AAgBA,OAxBA;AAyBAwB,gBAzBA;AA0BAC;AA1BA;AADA;AArCA","names":["methods","select","row","console","changePage","page","that","editor","path","query","cid","tid","sid","term","data","tableData","pageSize","total","tmpList","avg","props","ruleForm","watch","handler","newRuleForm","oldRuleForm","axios","deep","immediate"],"sourceRoot":"src/views/Teacher/teacherGradeCourseManage","sources":["teacherGradeCourseList.vue"],"sourcesContent":["<template>\n  <div>\n    <el-table\n        :data=\"tableData\"\n        border\n        stripe\n        style=\"width: 100%\">\n      <el-table-column\n          fixed\n          prop=\"cid\"\n          label=\"课程号\"\n          width=\"150\">\n      </el-table-column>\n      <el-table-column\n          prop=\"cname\"\n          label=\"课程名\"\n          width=\"150\">\n      </el-table-column>\n      <el-table-column\n          fixed\n          prop=\"sid\"\n          label=\"学号\"\n          width=\"100\">\n      </el-table-column>\n      <el-table-column\n          prop=\"sname\"\n          label=\"学生名\"\n          width=\"100\">\n      </el-table-column>\n      <el-table-column\n          prop=\"grade\"\n          label=\"成绩\"\n          width=\"100\">\n      </el-table-column>\n      <el-table-column\n          prop=\"term\"\n          label=\"学期\"\n          width=\"100\">\n      </el-table-column>\n      <el-table-column\n          label=\"操作\"\n          width=\"100\">\n        <template slot-scope=\"scope\">\n          <el-button @click=\"editor(scope.row)\" type=\"text\" size=\"small\">编辑</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <p>\n      平均成绩：{{ avg }}\n    </p>\n    <el-pagination\n        background\n        layout=\"prev, pager, next\"\n        :total=\"total\"\n        :page-size=\"pageSize\"\n        @current-change=\"changePage\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    select(row) {\n      console.log(row)\n    },\n    changePage(page) {\n      page = page - 1\n      const that = this\n      let start = page * that.pageSize, end = that.pageSize * (page + 1)\n      let length = that.tmpList.length\n      let ans = (end < length) ? end : length\n      that.tableData = that.tmpList.slice(start, ans)\n    },\n    editor(row) {\n      this.$router.push({\n        path: '/editorGradeCourse',\n        query: {\n          cid: row.cid,\n          tid: row.tid,\n          sid: row.sid,\n          term: row.term\n        }\n      })\n    }\n  },\n  data() {\n    return {\n      tableData: null,\n      pageSize: 10,\n      total: null,\n      tmpList: null,\n      avg: 0,\n    }\n  },\n  props: {\n    ruleForm: Object,\n  },\n  watch: {\n    ruleForm: {\n      handler(newRuleForm, oldRuleForm) {\n        console.log(\"组件监听 form\")\n        console.log(newRuleForm)\n        const that = this\n        that.tmpList = null\n        that.total = null\n        that.tableData = null\n        axios.post(\"http://localhost:10086/SCT/findBySearch\", newRuleForm).then(function (resp) {\n          console.log(\"查询结果:\");\n          console.log(resp)\n          that.tmpList = resp.data\n          that.total = resp.data.length\n          let start = 0, end = that.pageSize\n          let length = that.tmpList.length\n          let ans = (end < length) ? end : length\n          that.tableData = that.tmpList.slice(start, ans)\n\n          for (let i = 0; i < that.tmpList.length; i++) {\n            that.avg += that.tmpList[i].grade\n          }\n          that.avg /= that.total\n          console.log('avg', that.avg)\n        })\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n}\n</script>"]}]}