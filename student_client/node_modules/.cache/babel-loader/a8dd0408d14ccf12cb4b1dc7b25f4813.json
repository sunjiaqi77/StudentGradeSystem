{"remainingRequest":"D:\\Idea项目\\Student\\student_client\\node_modules\\babel-loader\\lib\\index.js!D:\\Idea项目\\Student\\student_client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Idea项目\\Student\\student_client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Idea项目\\Student\\student_client\\src\\views\\Student\\courseGrade\\queryCourseGrade.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Idea项目\\Student\\student_client\\src\\views\\Student\\courseGrade\\queryCourseGrade.vue","mtime":1687224180415},{"path":"D:\\Idea项目\\Student\\student_client\\babel.config.js","mtime":1644576637000},{"path":"D:\\Idea项目\\Student\\student_client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685794117013},{"path":"D:\\Idea项目\\Student\\student_client\\node_modules\\babel-loader\\lib\\index.js","mtime":1685794121019},{"path":"D:\\Idea项目\\Student\\student_client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685794117013},{"path":"D:\\Idea项目\\Student\\student_client\\node_modules\\vue-loader\\lib\\index.js","mtime":1685794120760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbWV0aG9kczogewogICAgY2hhbmdlUGFnZTogZnVuY3Rpb24gY2hhbmdlUGFnZShwYWdlKSB7CiAgICAgIHBhZ2UgPSBwYWdlIC0gMTsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgc3RhcnQgPSBwYWdlICogdGhhdC5wYWdlU2l6ZSwKICAgICAgICAgIGVuZCA9IHRoYXQucGFnZVNpemUgKiAocGFnZSArIDEpOwogICAgICB2YXIgbGVuZ3RoID0gdGhhdC50bXBMaXN0Lmxlbmd0aDsKICAgICAgdmFyIGFucyA9IGVuZCA8IGxlbmd0aCA/IGVuZCA6IGxlbmd0aDsKICAgICAgdGhhdC50YWJsZURhdGEgPSB0aGF0LnRtcExpc3Quc2xpY2Uoc3RhcnQsIGFucyk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBudWxsLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHRvdGFsOiBudWxsLAogICAgICB0bXBMaXN0OiBudWxsLAogICAgICBhdmc6IDAsCiAgICAgIHRlcm06IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRUZXJtJyksCiAgICAgIHRlcm1MaXN0OiBudWxsCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHRlcm06IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdUZXJtLCBvbGRUZXJtKSB7CiAgICAgICAgdmFyIHNpZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3NpZCcpOwogICAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MTAwODYvU0NUL2ZpbmRCeVNpZD9zaWQ9JyArIHNpZCkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgdGhhdC50bXBMaXN0ID0gcmVzcC5kYXRhOwogICAgICAgICAgdGhhdC50b3RhbCA9IHJlc3AuZGF0YS5sZW5ndGg7CiAgICAgICAgICB2YXIgc3RhcnQgPSAwLAogICAgICAgICAgICAgIGVuZCA9IHRoYXQucGFnZVNpemU7CiAgICAgICAgICB2YXIgbGVuZ3RoID0gdGhhdC50bXBMaXN0Lmxlbmd0aDsKICAgICAgICAgIHZhciBhbnMgPSBlbmQgPCBsZW5ndGggPyBlbmQgOiBsZW5ndGg7CiAgICAgICAgICB0aGF0LnRhYmxlRGF0YSA9IHRoYXQudG1wTGlzdC5zbGljZShzdGFydCwgZW5kKTsKICAgICAgICAgIHZhciB0b3RhbFNjb3JlID0gMDsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoYXQudG90YWw7IGkrKykgewogICAgICAgICAgICB0b3RhbFNjb3JlICs9IHRoYXQudG1wTGlzdFtpXS5jY3JlZGl0OwogICAgICAgICAgICB0aGF0LmF2ZyArPSB0aGF0LnRtcExpc3RbaV0uY2NyZWRpdCAqIHRoYXQudG1wTGlzdFtpXS5ncmFkZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodG90YWxTY29yZSA9PT0gMCkgdGhhdC5hdmcgPSAwO2Vsc2UgdGhhdC5hdmcgLz0gdG90YWxTY29yZTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACAA;AACAC,cADA,sBACAC,IADA,EACA;AACAA;AACA;AACA;AAAA;AACA;AACA;AACAC;AACA;AARA,GADA;AAWAC,MAXA,kBAWA;AACA;AACAC,qBADA;AAEAC,kBAFA;AAGAC,iBAHA;AAIAC,mBAJA;AAKAC,YALA;AAMAC,iDANA;AAOAC;AAPA;AASA,GArBA;AAsBAC;AACAF;AACAG,aADA,mBACAC,OADA,EACAC,OADA,EACA;AACA;AACA;AACAC;AACAb;AACAA;AACA;AAAA;AACA;AACA;AACAA;AACA;;AACA;AACAc;AACAd;AACA;;AACA,gCACAA,aADA,KAGAA;AACA,SAhBA;AAiBA,OArBA;AAsBAe;AAtBA;AADA;AAtBA","names":["methods","changePage","page","that","data","tableData","pageSize","total","tmpList","avg","term","termList","watch","handler","newTerm","oldTerm","axios","totalScore","immediate"],"sourceRoot":"src/views/Student/courseGrade","sources":["queryCourseGrade.vue"],"sourcesContent":["<template>\n  <div>\n    <el-card>\n      <el-table\n          :data=\"tableData\"\n          border\n          style=\"width: 100%\">\n        <el-table-column\n            fixed\n            prop=\"cid\"\n            label=\"课号\"\n            width=\"150\">\n        </el-table-column>\n        <el-table-column\n            prop=\"cname\"\n            label=\"课程号\"\n            width=\"150\">\n        </el-table-column>\n        <el-table-column\n            prop=\"tid\"\n            label=\"教师号\"\n            width=\"150\">\n        </el-table-column>\n        <el-table-column\n            prop=\"tname\"\n            label=\"教师名称\"\n            width=\"150\">\n        </el-table-column>\n        <el-table-column\n            prop=\"ccredit\"\n            label=\"学分\"\n            width=\"150\">\n        </el-table-column>\n        <el-table-column\n            prop=\"grade\"\n            label=\"成绩\"\n            width=\"150\">\n        </el-table-column>\n      </el-table>\n      <p>\n        平均成绩：{{ avg }}\n      </p>\n      <el-pagination\n          background\n          layout=\"prev, pager, next\"\n          :total=\"total\"\n          :page-size=\"pageSize\"\n          @current-change=\"changePage\"\n      >\n      </el-pagination>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    changePage(page) {\n      page = page - 1\n      const that = this\n      let start = page * that.pageSize, end = that.pageSize * (page + 1)\n      let length = that.tmpList.length\n      let ans = (end < length) ? end : length\n      that.tableData = that.tmpList.slice(start, ans)\n    },\n  },\n  data() {\n    return {\n      tableData: null,\n      pageSize: 10,\n      total: null,\n      tmpList: null,\n      avg: 0,\n      term: sessionStorage.getItem('currentTerm'),\n      termList: null\n    }\n  },\n  watch: {\n    term: {\n      handler(newTerm, oldTerm) {\n        const sid = sessionStorage.getItem('sid')\n        const that = this\n        axios.get('http://localhost:10086/SCT/findBySid?sid=' + sid).then(function (resp) {\n          that.tmpList = resp.data\n          that.total = resp.data.length\n          let start = 0, end = that.pageSize\n          let length = that.tmpList.length\n          let ans = (end < length) ? end : length\n          that.tableData = that.tmpList.slice(start, end)\n          let totalScore = 0\n          for (let i = 0; i < that.total; i++) {\n            totalScore += that.tmpList[i].ccredit\n            that.avg += that.tmpList[i].ccredit * that.tmpList[i].grade\n          }\n          if (totalScore === 0)\n            that.avg = 0\n          else\n            that.avg /= totalScore\n        })\n      },\n      immediate: true\n    }\n  }\n}\n</script>\n"]}]}