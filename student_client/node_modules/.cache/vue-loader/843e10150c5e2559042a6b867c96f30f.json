{"remainingRequest":"D:\\home\\下载\\StudentManageSystem-main\\student_client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\home\\下载\\StudentManageSystem-main\\student_client\\src\\views\\Student\\selectCourse\\querySelectedCourse.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\home\\下载\\StudentManageSystem-main\\student_client\\src\\views\\Student\\selectCourse\\querySelectedCourse.vue","mtime":1644576637000},{"path":"D:\\home\\下载\\StudentManageSystem-main\\student_client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685794117013},{"path":"D:\\home\\下载\\StudentManageSystem-main\\student_client\\node_modules\\babel-loader\\lib\\index.js","mtime":1685794121019},{"path":"D:\\home\\下载\\StudentManageSystem-main\\student_client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685794117013},{"path":"D:\\home\\下载\\StudentManageSystem-main\\student_client\\node_modules\\vue-loader\\lib\\index.js","mtime":1685794120760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBtZXRob2RzOiB7CiAgICBkZWxldGVTQ1Qocm93KSB7CiAgICAgIGNvbnN0IGNpZCA9IHJvdy5jaWQKICAgICAgY29uc3QgdGlkID0gcm93LnRpZAogICAgICBjb25zdCBzaWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzaWQnKQogICAgICBjb25zdCB0ZXJtID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFRlcm0nKQogICAgICBjb25zdCBzY3QgPSB7CiAgICAgICAgY2lkOiBjaWQsCiAgICAgICAgdGlkOiB0aWQsCiAgICAgICAgc2lkOiBzaWQsCiAgICAgICAgdGVybTogdGVybQogICAgICB9CgogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjEwMDg2L1NDVC9kZWxldGVCeVNDVCcsIHNjdCkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwLmRhdGEgPT09IHRydWUpIHsKICAgICAgICAgIHRoYXQuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfpgIDor77miJDlip8nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwogICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgdGhhdC4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ+mAgOivvuWksei0pe+8jOivt+iBlOezu+euoeeQhuWRmCcsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkKCiAgICB9LAogICAgY2hhbmdlUGFnZShwYWdlKSB7CiAgICAgIHBhZ2UgPSBwYWdlIC0gMQogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICBsZXQgc3RhcnQgPSBwYWdlICogdGhhdC5wYWdlU2l6ZSwgZW5kID0gdGhhdC5wYWdlU2l6ZSAqIChwYWdlICsgMSkKICAgICAgbGV0IGxlbmd0aCA9IHRoYXQudG1wTGlzdC5sZW5ndGgKICAgICAgbGV0IGFucyA9IChlbmQgPCBsZW5ndGgpID8gZW5kIDogbGVuZ3RoCiAgICAgIHRoYXQudGFibGVEYXRhID0gdGhhdC50bXBMaXN0LnNsaWNlKHN0YXJ0LCBhbnMpCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogbnVsbCwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogbnVsbCwKICAgICAgdG1wTGlzdDogbnVsbCwKICAgICAgdHlwZTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndHlwZScpCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgY29uc3Qgc2lkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc2lkJykKICAgIGNvbnN0IHRlcm0gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50VGVybScpCiAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjEwMDg2L1NDVC9maW5kQnlTaWQvJyArIHNpZCArICcvJyArIHRlcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgdGhhdC50bXBMaXN0ID0gcmVzcC5kYXRhCiAgICAgIHRoYXQudG90YWwgPSByZXNwLmRhdGEubGVuZ3RoCiAgICAgIGxldCBzdGFydCA9IDAsIGVuZCA9IHRoYXQucGFnZVNpemUKICAgICAgbGV0IGxlbmd0aCA9IHRoYXQudG1wTGlzdC5sZW5ndGgKICAgICAgbGV0IGFucyA9IChlbmQgPCBsZW5ndGgpID8gZW5kIDogbGVuZ3RoCiAgICAgIHRoYXQudGFibGVEYXRhID0gdGhhdC50bXBMaXN0LnNsaWNlKHN0YXJ0LCBlbmQpCiAgICB9KQogIH0sCn0K"},{"version":3,"sources":["querySelectedCourse.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"querySelectedCourse.vue","sourceRoot":"src/views/Student/selectCourse","sourcesContent":["<template>\n  <div>\n    <el-card>\n      <el-table\n          :data=\"tableData\"\n          border\n          style=\"width: 100%\">\n        <el-table-column\n            fixed\n            prop=\"cid\"\n            label=\"课号\"\n            width=\"150\">\n        </el-table-column>\n        <el-table-column\n            prop=\"cname\"\n            label=\"课程号\"\n            width=\"150\">\n        </el-table-column>\n        <el-table-column\n            prop=\"tid\"\n            label=\"教师号\"\n            width=\"150\">\n        </el-table-column>\n        <el-table-column\n            prop=\"tname\"\n            label=\"教师名称\"\n            width=\"150\">\n        </el-table-column>\n        <el-table-column\n            prop=\"ccredit\"\n            label=\"学分\"\n            width=\"150\">\n        </el-table-column>\n        <el-table-column\n            label=\"操作\"\n            width=\"100\">\n\n          <template slot-scope=\"scope\">\n            <el-popconfirm\n                confirm-button-text='退课'\n                cancel-button-text='取消'\n                icon=\"el-icon-info\"\n                title=\"确定退课？\"\n                @confirm=\"deleteSCT(scope.row)\"\n            >\n              <el-button slot=\"reference\" type=\"text\" size=\"small\">退课</el-button>\n            </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n          background\n          layout=\"prev, pager, next\"\n          :total=\"total\"\n          :page-size=\"pageSize\"\n          @current-change=\"changePage\"\n      >\n      </el-pagination>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    deleteSCT(row) {\n      const cid = row.cid\n      const tid = row.tid\n      const sid = sessionStorage.getItem('sid')\n      const term = sessionStorage.getItem('currentTerm')\n      const sct = {\n        cid: cid,\n        tid: tid,\n        sid: sid,\n        term: term\n      }\n\n      const that = this\n      axios.post('http://localhost:10086/SCT/deleteBySCT', sct).then(function (resp) {\n        if (resp.data === true) {\n          that.$message({\n            showClose: true,\n            message: '退课成功',\n            type: 'success'\n          });\n          window.location.reload()\n        }\n        else {\n          that.$message({\n            showClose: true,\n            message: '退课失败，请联系管理员',\n            type: 'error'\n          });\n        }\n      })\n\n    },\n    changePage(page) {\n      page = page - 1\n      const that = this\n      let start = page * that.pageSize, end = that.pageSize * (page + 1)\n      let length = that.tmpList.length\n      let ans = (end < length) ? end : length\n      that.tableData = that.tmpList.slice(start, ans)\n    },\n  },\n  data() {\n    return {\n      tableData: null,\n      pageSize: 10,\n      total: null,\n      tmpList: null,\n      type: sessionStorage.getItem('type')\n    }\n  },\n  created() {\n    const sid = sessionStorage.getItem('sid')\n    const term = sessionStorage.getItem('currentTerm')\n    const that = this\n    axios.get('http://localhost:10086/SCT/findBySid/' + sid + '/' + term).then(function (resp) {\n      that.tmpList = resp.data\n      that.total = resp.data.length\n      let start = 0, end = that.pageSize\n      let length = that.tmpList.length\n      let ans = (end < length) ? end : length\n      that.tableData = that.tmpList.slice(start, end)\n    })\n  },\n}\n</script>"]}]}