{"remainingRequest":"D:\\Idea项目\\Student\\student_client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Idea项目\\Student\\student_client\\src\\register.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Idea项目\\Student\\student_client\\src\\register.vue","mtime":1685808909904},{"path":"D:\\Idea项目\\Student\\student_client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685794117013},{"path":"D:\\Idea项目\\Student\\student_client\\node_modules\\babel-loader\\lib\\index.js","mtime":1685794121019},{"path":"D:\\Idea项目\\Student\\student_client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1685794117013},{"path":"D:\\Idea项目\\Student\\student_client\\node_modules\\vue-loader\\lib\\index.js","mtime":1685794120760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQppbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyL2luZGV4JzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIHNldHVwKCkgew0KICAgICAgICBsZXQgdXNlcm5hbWUgPSByZWYoJycpOw0KICAgICAgICBsZXQgcGFzc3dvcmQgPSByZWYoJycpOw0KICAgICAgICBsZXQgc2VuZHRvID0gcmVmKCcnKTsNCiAgICAgICAgbGV0IGFjY2Vzc2NvZGUgPSByZWYoJycpOw0KDQogICAgICAgIGNvbnN0IHJlZ2lzdGVyID0gKCkgPT4gew0KICAgICAgICAgICAgYXhpb3MucG9zdCh7DQogICAgICAgICAgICAgICAgeGhyRmllbGRzOiB7DQogICAgICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGNyb3NzRG9tYWluOiB0cnVlLA0KICAgICAgICAgICAgICAgIHVybDogImh0dHA6Ly8xMjcuMC4wLjE6MzAwMC91c2VyL3JlZ2lzdGVyLyIsDQogICAgICAgICAgICAgICAgdHlwZTogInBvc3QiLA0KICAgICAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLnZhbHVlLA0KICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQudmFsdWUsDQogICAgICAgICAgICAgICAgICAgIGVtYWlsOiBzZW5kdG8udmFsdWUsDQogICAgICAgICAgICAgICAgICAgIGFjY2Vzc2NvZGU6IGFjY2Vzc2NvZGUudmFsdWUsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3ApIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7DQogICAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3AuZXJyb3JfbXNnKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3AuZXJyb3JfbXNnID09PSAi5rOo5YaM5oiQ5YqfIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goeyBuYW1lOiAnbG9naW52aWV3JyB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgZXJyb3IocmVzcCkgew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTsNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQocmVzcC5lcnJvcl9tc2cpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBjb3VudGRvd24odmFsLCB0aW1lLCBjbnQpIHsNCiAgICAgICAgICAgIGlmICh0aW1lID09PSAwKSB7DQogICAgICAgICAgICAgICAgdmFsLmRpc2FibGVkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdmFsLmlubmVySFRNTCA9ICJnZXQgY29kZSI7DQogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjbnQpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB2YWwuaW5uZXJIVE1MID0gJ3Jlc2VuZCBjb2RlKCcgKyB0aW1lICsgJyknOw0KICAgICAgICAgICAgICAgIHRpbWUtLTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0aW1lOw0KICAgICAgICB9DQoNCg0KICAgICAgICBjb25zdCBnZXRjb2RlID0gKCkgPT4gew0KICAgICAgICAgICAgbGV0IHRpbWUgPSA2MDsNCiAgICAgICAgICAgIGxldCBvYmplY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29kZScpOw0KICAgICAgICAgICAgb2JqZWN0LmRpc2FibGVkID0gdHJ1ZTsNCiAgICAgICAgICAgIGNvdW50ZG93bihvYmplY3QsIHRpbWUpOw0KICAgICAgICAgICAgbGV0IGNudCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICB0aW1lID0gY291bnRkb3duKG9iamVjdCwgdGltZSwgY250KTsNCiAgICAgICAgICAgIH0sIDEwMDApOw0KDQoNCiAgICAgICAgICAgICQuYWpheCh7DQogICAgICAgICAgICAgICAgeGhyRmllbGRzOiB7DQogICAgICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgY3Jvc3NEb21haW46IHRydWUsDQogICAgICAgICAgICAgICAgdXJsOiAiaHR0cDovLzEyNy4wLjAuMTozMDAwL2dldGNvZGUvIiwNCiAgICAgICAgICAgICAgICB0eXBlOiAicG9zdCIsDQogICAgICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgICAgICAgICBzZW5kdG86IHNlbmR0by52YWx1ZSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzcCkgew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGVycm9yKHJlc3ApIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9KQ0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHVzZXJuYW1lLA0KICAgICAgICAgICAgcGFzc3dvcmQsDQogICAgICAgICAgICByZWdpc3RlciwNCiAgICAgICAgICAgIGdldGNvZGUsDQogICAgICAgICAgICBzZW5kdG8sDQogICAgICAgICAgICBhY2Nlc3Njb2RlLA0KICAgICAgICB9DQogICAgfQ0KfQ0KDQo="},{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"register.vue","sourceRoot":"src","sourcesContent":["<template>\r\n    <div class=\"login-box\">\r\n        <h2>Register</h2>\r\n        <form @submit.prevent=\"register\">\r\n            <div class=\"user-box\">\r\n                <input v-model=\"username\" type=\"text\" name=\"\" required=\"true\">\r\n                <label>Username</label>\r\n            </div>\r\n            <div class=\"user-box\">\r\n                <input v-model=\"password\" type=\"password\" name=\"\" required=\"true\">\r\n                <label>Password</label>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-8\">\r\n                    <div class=\"user-box\">\r\n                        <input v-model=\"sendto\" type=\"text\" name=\"\" required=\"true\">\r\n                        <label>Email</label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm-4\">\r\n                    <div class=\"user-box\">\r\n                        <button id=\"code\" class=\"btn btn-outline-secondary\" type=\"button\" @click=\"getcode()\">get\r\n                            code</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"user-box\">\r\n                <input v-model=\"accesscode\" type=\"text\" name=\"\" required=\"true\">\r\n                <label>Access code</label>\r\n            </div>\r\n\r\n            <a href=\"#\" @click=\"register()\">\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                Submit\r\n            </a>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport axios from 'axios'\r\nimport router from './router/index';\r\n\r\nexport default {\r\n    setup() {\r\n        let username = ref('');\r\n        let password = ref('');\r\n        let sendto = ref('');\r\n        let accesscode = ref('');\r\n\r\n        const register = () => {\r\n            axios.post({\r\n                xhrFields: {\r\n                    withCredentials: true,\r\n                },\r\n                crossDomain: true,\r\n                url: \"http://127.0.0.1:3000/user/register/\",\r\n                type: \"post\",\r\n                data: {\r\n                    username: username.value,\r\n                    password: password.value,\r\n                    email: sendto.value,\r\n                    accesscode: accesscode.value,\r\n                },\r\n                success(resp) {\r\n                    console.log(resp);\r\n                    alert(resp.error_msg);\r\n                    if (resp.error_msg === \"注册成功\") {\r\n                        router.push({ name: 'loginview' });\r\n                    }\r\n                },\r\n                error(resp) {\r\n                    console.log(resp);\r\n                    alert(resp.error_msg);\r\n                }\r\n            })\r\n        }\r\n\r\n        function countdown(val, time, cnt) {\r\n            if (time === 0) {\r\n                val.disabled = false;\r\n                val.innerHTML = \"get code\";\r\n                clearInterval(cnt);\r\n            } else {\r\n                val.innerHTML = 'resend code(' + time + ')';\r\n                time--;\r\n            }\r\n            return time;\r\n        }\r\n\r\n\r\n        const getcode = () => {\r\n            let time = 60;\r\n            let object = document.getElementById('code');\r\n            object.disabled = true;\r\n            countdown(object, time);\r\n            let cnt = setInterval(function () {\r\n                time = countdown(object, time, cnt);\r\n            }, 1000);\r\n\r\n\r\n            $.ajax({\r\n                xhrFields: {\r\n                    withCredentials: true\r\n                },\r\n                crossDomain: true,\r\n                url: \"http://127.0.0.1:3000/getcode/\",\r\n                type: \"post\",\r\n                data: {\r\n                    sendto: sendto.value,\r\n                },\r\n                success(resp) {\r\n                    console.log(resp);\r\n                },\r\n                error(resp) {\r\n                    console.log(resp);\r\n                }\r\n\r\n            })\r\n        }\r\n\r\n        return {\r\n            username,\r\n            password,\r\n            register,\r\n            getcode,\r\n            sendto,\r\n            accesscode,\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\nhtml {\r\n    height: 100%;\r\n}\r\n\r\nbody {\r\n    margin: 0;\r\n    padding: 0;\r\n    font-family: sans-serif;\r\n    background: linear-gradient(#141e30, #243b55);\r\n    /* background: linear-gradient(#fff); */\r\n}\r\n\r\n.login-box {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    width: 400px;\r\n    padding: 40px;\r\n    transform: translate(-50%, -50%);\r\n    background: rgba(0, 0, 0, .7);\r\n    box-sizing: border-box;\r\n    box-shadow: 0 15px 25px rgba(0, 0, 0, .6);\r\n    border-radius: 10px;\r\n}\r\n\r\n.login-box h2 {\r\n    margin: 0 0 30px;\r\n    padding: 0;\r\n    color: #fff;\r\n    text-align: center;\r\n}\r\n\r\n.login-box .user-box {\r\n    position: relative;\r\n}\r\n\r\n.login-box .user-box input {\r\n    width: 100%;\r\n    padding: 10px 0;\r\n    font-size: 16px;\r\n    color: #fff;\r\n    margin-bottom: 30px;\r\n    border: none;\r\n    border-bottom: 1px solid #fff;\r\n    outline: none;\r\n    background: transparent;\r\n}\r\n\r\n.login-box .user-box label {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    padding: 10px 0;\r\n    font-size: 16px;\r\n    color: #fff;\r\n    pointer-events: none;\r\n    transition: .5s;\r\n}\r\n\r\n.login-box .user-box input:focus~label,\r\n.login-box .user-box input:valid~label {\r\n    top: -20px;\r\n    left: 0;\r\n    color: #03e9f4;\r\n    font-size: 12px;\r\n}\r\n\r\n.login-box form a {\r\n    position: relative;\r\n    display: inline-block;\r\n    padding: 10px 20px;\r\n    color: #03e9f4;\r\n    font-size: 16px;\r\n    text-decoration: none;\r\n    text-transform: uppercase;\r\n    overflow: hidden;\r\n    transition: .5s;\r\n    margin-top: 40px;\r\n    letter-spacing: 4px\r\n}\r\n\r\n.login-box a:hover {\r\n    background: #03e9f4;\r\n    color: #fff;\r\n    border-radius: 5px;\r\n    box-shadow: 0 0 5px #03e9f4,\r\n        0 0 25px #03e9f4,\r\n        0 0 50px #03e9f4,\r\n        0 0 100px #03e9f4;\r\n}\r\n\r\n.login-box a span {\r\n    position: absolute;\r\n    display: block;\r\n}\r\n\r\n.login-box a span:nth-child(1) {\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 2px;\r\n    background: linear-gradient(90deg, transparent, #03e9f4);\r\n    animation: btn-anim1 1s linear infinite;\r\n}\r\n\r\n@keyframes btn-anim1 {\r\n    0% {\r\n        left: -100%;\r\n    }\r\n\r\n    50%,\r\n    100% {\r\n        left: 100%;\r\n    }\r\n}\r\n\r\n.login-box a span:nth-child(2) {\r\n    top: -100%;\r\n    right: 0;\r\n    width: 2px;\r\n    height: 100%;\r\n    background: linear-gradient(180deg, transparent, #03e9f4);\r\n    animation: btn-anim2 1s linear infinite;\r\n    animation-delay: .25s\r\n}\r\n\r\n@keyframes btn-anim2 {\r\n    0% {\r\n        top: -100%;\r\n    }\r\n\r\n    50%,\r\n    100% {\r\n        top: 100%;\r\n    }\r\n}\r\n\r\n.login-box a span:nth-child(3) {\r\n    bottom: 0;\r\n    right: -100%;\r\n    width: 100%;\r\n    height: 2px;\r\n    background: linear-gradient(270deg, transparent, #03e9f4);\r\n    animation: btn-anim3 1s linear infinite;\r\n    animation-delay: .5s\r\n}\r\n\r\n@keyframes btn-anim3 {\r\n    0% {\r\n        right: -100%;\r\n    }\r\n\r\n    50%,\r\n    100% {\r\n        right: 100%;\r\n    }\r\n}\r\n\r\n.login-box a span:nth-child(4) {\r\n    bottom: -100%;\r\n    left: 0;\r\n    width: 2px;\r\n    height: 100%;\r\n    background: linear-gradient(360deg, transparent, #03e9f4);\r\n    animation: btn-anim4 1s linear infinite;\r\n    animation-delay: .75s\r\n}\r\n\r\n@keyframes btn-anim4 {\r\n    0% {\r\n        bottom: -100%;\r\n    }\r\n\r\n    50%,\r\n    100% {\r\n        bottom: 100%;\r\n    }\r\n}\r\n</style>"]}]}